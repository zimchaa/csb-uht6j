(this["webpackJsonpflotilla-giraffe"]=this["webpackJsonpflotilla-giraffe"]||[]).push([[0],{74:function(e,t,a){},82:function(e,t,a){"use strict";a.r(t);var c=a(20),n=a.n(c),l=a(25),s=a(27),r=a(23),i=a(38),o=a(39),j=a(63),h=a(62),b=(a(74),a(123)),d=a(124),x=a(125),u=a(118),O=a(116),m=a(117),p=a(120),f=a(115),g=a(121),v=a(54),w=a.n(v),y=a(55),k=a.n(y),z=a(60),N=a.n(z),C=a(61),P=a.n(C),S=a(59),T=a.n(S),F=a(57),D=a.n(F),I=a(52),L=a.n(I),U=a(53),A=a.n(U),E=a(51),G=a.n(E),J=a(58),B=a.n(J),M=a(50),R=a.n(M),W=a(47),q=a.n(W),H=a(46),K=a.n(H),Q=a(49),V=a.n(Q),X=a(48),Y=a.n(X),Z=a(42),$=a.n(Z),_=a(40),ee=a.n(_),te=a(44),ae=a.n(te),ce=a(45),ne=a.n(ce),le=a(43),se=a.n(le),re=a(0),ie=a.n(re),oe=a(1),je=[{value:50,label:Object(oe.jsx)(ee.a,{})},{value:100,label:Object(oe.jsx)($.a,{})},{value:0,label:Object(oe.jsx)(se.a,{})},{value:-50,label:Object(oe.jsx)(ae.a,{})},{value:-100,label:Object(oe.jsx)(ne.a,{})}],he=[{value:-50,label:Object(oe.jsx)(K.a,{})},{value:100,label:Object(oe.jsx)(q.a,{})},{value:0,label:Object(oe.jsx)(Y.a,{})},{value:50,label:Object(oe.jsx)(V.a,{})},{value:-100,label:Object(oe.jsx)(R.a,{})}],be=Object(f.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary,height:80},papertall:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary,height:250},thrustslider:{height:200,padding:20},diffslider:{height:20,padding:20},chip:{margin:e.spacing(.5)}}})),de=function(e){Object(j.a)(a,e);var t=Object(h.a)(a);function a(e){var c;return Object(i.a)(this,a),(c=t.call(this,e)).state={x:0,y:0,z:1,heading:0},c}return Object(o.a)(a,[{key:"updateTelemetry",value:function(){var e=this;fetch("https://zimchaa.zapto.org/telemetry",{method:"GET",redirect:"follow"}).then((function(e){return e.json()})).then((function(t){return e.setState((function(e){return{x:t.x,y:t.y,z:t.z,heading:t.heading}}))})).catch((function(e){return console.log("error",e)}))}},{key:"componentDidMount",value:function(){var e=this;this.interval=setInterval((function(){return e.updateTelemetry()}),1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){return Object(oe.jsxs)("div",{children:[Object(oe.jsx)(b.a,{icon:Object(oe.jsx)(G.a,{}),label:this.state.z.toFixed(2)}),Object(oe.jsx)("hr",{}),Object(oe.jsx)(b.a,{icon:Object(oe.jsx)(L.a,{}),label:this.state.y.toFixed(2)}),Object(oe.jsx)("hr",{}),Object(oe.jsx)(b.a,{icon:Object(oe.jsx)(A.a,{}),label:this.state.x.toFixed(2)}),Object(oe.jsx)("hr",{}),Object(oe.jsx)(b.a,{icon:Object(oe.jsx)(w.a,{}),label:this.state.heading.toFixed(1)}),Object(oe.jsx)("hr",{})]})}}]),a}(ie.a.Component);function xe(){var e=be(),t=ie.a.useState(0),a=Object(r.a)(t,2),c=a[0],n=a[1],i=ie.a.useState(0),o=Object(r.a)(i,2),j=o[0],h=o[1],f=ie.a.useState({left:0,right:0}),v=Object(r.a)(f,2),w=v[0],y=v[1],z=ie.a.useState({switch1:!1,switch2:!1,switch3:!1,switch4:!1}),C=Object(r.a)(z,2),S=C[0],F=C[1],I=ie.a.useState({manualswitch:!1}),L=Object(r.a)(I,2),U=L[0],A=L[1],E=function(e,t){if(console.log("thrust new/current: "+e+"/"+c),console.log("diff new/current: "+t+"/"+j),e!==c||t!==j){var a={remote:"https://zimchaa.zapto.org/thrust/"+e+"/diff/"+t};console.log(a.remote),fetch(a.remote,{method:"PUT",redirect:"follow"}).then((function(e){return e.json()})).then((function(e){return G(e)})).then((function(e){return console.log(e)})).catch((function(e){return console.log("error",e)}))}else console.log("no change")},G=function(e){return y(e.motorspeeds),n(e.thrust),h(e.diff),e},J=function(e){F(Object(s.a)(Object(s.a)({},S),{},Object(l.a)({},e.target.name,e.target.checked))),"switch1"===e.target.name&&function(e){var t="https://zimchaa.zapto.org/rainbow";e?t=(t+="/6")+"/255/150/200/150":t+="/5",console.log(t),fetch(t,{method:"PUT",redirect:"follow"}).then((function(e){return e.json()})).then((function(e){return console.log(e)})).catch((function(e){return console.log("error",e)}))}(e.target.checked),console.log("switch: "+e.target.name+"\nchecked: "+e.target.checked)};return Object(oe.jsx)("div",{className:e.root,children:Object(oe.jsxs)(O.a,{container:!0,spacing:2,children:[Object(oe.jsx)(O.a,{item:!0,xs:2,children:Object(oe.jsx)(m.a,{className:e.papertall,children:Object(oe.jsx)("div",{className:e.thrustslider,children:Object(oe.jsx)(p.a,{value:c,onChange:function(e,t){n(t),E(t,j)},"aria-labelledby":"thrustslider",orientation:"vertical",max:100,min:-100,marks:je,valueLabelDisplay:"auto",step:10,track:!1,name:"thrustslider"})})})}),Object(oe.jsx)(O.a,{item:!0,xs:8,children:Object(oe.jsx)(m.a,{className:e.papertall,children:Object(oe.jsx)("img",{src:"https://zimchaa.zapto.org/stream/video.mjpeg",height:"100%",alt:"Live stream: Robot"})})}),Object(oe.jsx)(O.a,{item:!0,xs:2,children:Object(oe.jsxs)(m.a,{className:e.papertall,children:[Object(oe.jsx)(de,{}),Object(oe.jsx)(b.a,{icon:Object(oe.jsx)(k.a,{}),label:w.left+"/"+w.right})]})}),Object(oe.jsx)(O.a,{item:!0,xs:2}),Object(oe.jsx)(O.a,{item:!0,xs:8,children:Object(oe.jsx)(m.a,{className:e.paper,children:Object(oe.jsx)("div",{className:e.diffslider,children:Object(oe.jsx)(p.a,{value:j,onChange:function(e,t){h(t),E(c,t)},"aria-labelledby":"diffslider",max:100,min:-100,marks:he,valueLabelDisplay:"auto",step:10,track:!1,name:"diffslider"})})})}),Object(oe.jsx)(O.a,{item:!0,xs:2,children:Object(oe.jsx)(m.a,{className:e.paper,children:Object(oe.jsx)(d.a,{component:"fieldset",children:Object(oe.jsx)(u.a,{"aria-label":"position",row:!0,children:Object(oe.jsx)(x.a,{value:"manualswitchcontrol",control:Object(oe.jsx)(g.a,{color:"primary",checked:U.manualswitch,onChange:function(e){A(Object(s.a)(Object(s.a)({},U),{},Object(l.a)({},e.target.name,e.target.checked))),console.log("switch: "+e.target.name+"\nchecked: "+e.target.checked)},name:"manualswitch",disabled:!0}),label:Object(oe.jsx)(D.a,{}),labelPlacement:"top"})})})})}),Object(oe.jsx)(O.a,{item:!0,xs:2}),Object(oe.jsx)(O.a,{item:!0,xs:2,children:Object(oe.jsx)(m.a,{className:e.paper,children:Object(oe.jsx)(d.a,{component:"fieldset",children:Object(oe.jsx)(u.a,{"aria-label":"position",row:!0,children:Object(oe.jsx)(x.a,{value:"switch1control",control:Object(oe.jsx)(g.a,{color:"primary",checked:S.switch1,onChange:J,name:"switch1"}),label:Object(oe.jsx)(B.a,{}),labelPlacement:"top"})})})})}),Object(oe.jsx)(O.a,{item:!0,xs:2,children:Object(oe.jsx)(m.a,{className:e.paper,children:Object(oe.jsx)(d.a,{component:"fieldset",children:Object(oe.jsx)(u.a,{"aria-label":"position",row:!0,children:Object(oe.jsx)(x.a,{value:"switch2control",control:Object(oe.jsx)(g.a,{color:"primary",checked:S.switch2,onChange:J,name:"switch2"}),label:Object(oe.jsx)(T.a,{}),labelPlacement:"top"})})})})}),Object(oe.jsx)(O.a,{item:!0,xs:2,children:Object(oe.jsx)(m.a,{className:e.paper,children:Object(oe.jsx)(d.a,{component:"fieldset",children:Object(oe.jsx)(u.a,{"aria-label":"position",row:!0,children:Object(oe.jsx)(x.a,{value:"switch3control",control:Object(oe.jsx)(g.a,{color:"primary",checked:S.switch3,onChange:J,name:"switch3"}),label:Object(oe.jsx)(N.a,{}),labelPlacement:"top"})})})})}),Object(oe.jsx)(O.a,{item:!0,xs:2,children:Object(oe.jsx)(m.a,{className:e.paper,children:Object(oe.jsx)(d.a,{component:"fieldset",children:Object(oe.jsx)(u.a,{"aria-label":"position",row:!0,children:Object(oe.jsx)(x.a,{value:"switch4control",control:Object(oe.jsx)(g.a,{color:"primary",checked:S.switch4,onChange:J,name:"switch4"}),label:Object(oe.jsx)(P.a,{}),labelPlacement:"top"})})})})})]})})}var ue=document.getElementById("root");n.a.render(Object(oe.jsx)(xe,{}),ue)}},[[82,1,2]]]);
//# sourceMappingURL=main.a5afde61.chunk.js.map